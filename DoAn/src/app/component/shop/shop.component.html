<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Male_Fashion Template">
    <meta name="keywords" content="Male_Fashion, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Male-Fashion | Template</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600;700;800;900&display=swap"
        rel="stylesheet">

    <!-- Css Styles -->
    <link rel="stylesheet" href="https://themewagon.github.io/malefashion/css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="https://themewagon.github.io/malefashion/css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="https://themewagon.github.io/malefashion/css/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="https://themewagon.github.io/malefashion/css/magnific-popup.css" type="text/css">
    <link rel="stylesheet" href="https://themewagon.github.io/malefashion/css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="https://themewagon.github.io/malefashion/css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="https://themewagon.github.io/malefashion/css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="https://themewagon.github.io/malefashion/css/style.css" type="text/css">
</head>

<body>
    <!-- Loading Element -->
    <app-preloader [isLoading]="isLoading"></app-preloader>

    <!-- Notification -->
    <app-notification [showNotification]="showNotification" [message]="message"
        (closeNotification)="showNotification"></app-notification>


    <!-- Header Section Begin -->
    <app-header></app-header>
    <!-- Header Section End -->

    <!-- Breadcrumb Section Begin -->
    <section class="breadcrumb-option">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumb__text">
                        <h4>Shop</h4>
                        <div class="breadcrumb__links">
                            <a routerLink="">Home</a>
                            <span>Shop</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Breadcrumb Section End -->

    <!-- Shop Section Begin -->
    <section class="shop spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="shop__sidebar">
                        <div class="shop__sidebar__search">
                            <form action="#">
                                <input type="text" placeholder="Search..." [formControl]="searchControl"
                                    (focus)="onFocus()" (blur)="onBlur()" />
                                <button type="submit">
                                    <span class="icon_search"></span>
                                </button>
                                <ul class="suggestion-list list-group position-absolute w-100"
                                    *ngIf="showSuggestions && (suggestions$ | async)?.length > 0"
                                    style="z-index: 1000;">
                                    <li class="list-group-item d-flex align-items-center"
                                        (mousedown)="viewDetail(product.id)"
                                        *ngFor="let product of (suggestions$ | async)">
                                        <div class="product-image me-3"
                                            [ngStyle]="{'background-image': product.images?.[0]?.data ? 'url(data:image/jpeg;base64,' + product.images[0].data + ')' : ''}"
                                            style="width: 50px; height: 50px; background-size: cover; background-position: center; border-radius: 4px;">
                                        </div>
                                        <div class="flex-grow-1">
                                            <span class="fw-bold product-name">{{product.name}}</span>
                                            <br>
                                            <span class="text-muted product-price">{{product.price |
                                                vndCurrency}}</span>
                                        </div>
                                    </li>
                                </ul>

                            </form>
                        </div>
                        <div class="shop__sidebar__accordion">
                            <div class="accordion" id="accordionExample">
                                <div class="card">
                                    <div class="card-heading">
                                        <a data-toggle="collapse" data-target="#collapseOne">Categories</a>
                                    </div>
                                    <div id="collapseOne" class="collapse show" data-parent="#accordionExample">
                                        <div class="card-body">
                                            <div class="shop__sidebar__categories">
                                                <ul class="nice-scroll">
                                                    <li style="cursor: pointer;" *ngFor="let category of listCategory">
                                                        <a (click)="onCategoryChange(category)">{{category.name}}</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="card">
                                    <div class="card-heading">
                                        <a data-toggle="collapse" data-target="#collapseTwo">Branding</a>
                                    </div>
                                    <div id="collapseTwo" class="collapse show" data-parent="#accordionExample">
                                        <div class="card-body">
                                            <div class="shop__sidebar__brand">
                                                <ul>
                                                    <li><a href="#">Louis Vuitton</a></li>
                                                    <li><a href="#">Chanel</a></li>
                                                    <li><a href="#">Hermes</a></li>
                                                    <li><a href="#">Gucci</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div> -->
                                <div class="card">
                                    <div class="card-heading">
                                        <a data-toggle="collapse" data-target="#collapseThree">Filter Price</a>
                                    </div>
                                    <div id="collapseThree" class="collapse show" data-parent="#accordionExample">
                                        <div class="card-body">
                                            <div class="shop__sidebar__price">
                                                <ul>
                                                    <li style="cursor: pointer;"><a
                                                            (click)="onPriceRangeChange('100000-300000')">100.000đ -
                                                            300.000đ</a></li>
                                                    <li style="cursor: pointer;"><a
                                                            (click)="onPriceRangeChange('300000-500000')">300.000đ -
                                                            500.000đ</a>
                                                    </li>
                                                    <li style="cursor: pointer;"><a
                                                            (click)="onPriceRangeChange('500000-700000')">500.000đ -
                                                            700.000đ</a>
                                                    </li>
                                                    <li style="cursor: pointer;"><a
                                                            (click)="onPriceRangeChange('700000-900000')">700.000đ -
                                                            900.000đ</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="card">
                                    <div class="card-heading">
                                        <a data-toggle="collapse" data-target="#collapseFour">Size</a>
                                    </div>
                                    <div id="collapseFour" class="collapse show" data-parent="#accordionExample">
                                        <div class="card-body">
                                            <div class="shop__sidebar__size">
                                                <label for="xs">xs
                                                    <input type="radio" id="xs">
                                                </label>
                                                <label for="sm">s
                                                    <input type="radio" id="sm">
                                                </label>
                                                <label for="md">m
                                                    <input type="radio" id="md">
                                                </label>
                                                <label for="xl">xl
                                                    <input type="radio" id="xl">
                                                </label>
                                                <label for="2xl">2xl
                                                    <input type="radio" id="2xl">
                                                </label>
                                                <label for="xxl">xxl
                                                    <input type="radio" id="xxl">
                                                </label>
                                                <label for="3xl">3xl
                                                    <input type="radio" id="3xl">
                                                </label>
                                                <label for="4xl">4xl
                                                    <input type="radio" id="4xl">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div> -->
                                <!-- <div class="card">
                                    <div class="card-heading">
                                        <a data-toggle="collapse" data-target="#collapseFive">Colors</a>
                                    </div>
                                    <div id="collapseFive" class="collapse show" data-parent="#accordionExample">
                                        <div class="card-body">
                                            <div class="shop__sidebar__color">
                                                <label class="c-1" for="sp-1">
                                                    <input type="radio" id="sp-1">
                                                </label>
                                                <label class="c-2" for="sp-2">
                                                    <input type="radio" id="sp-2">
                                                </label>
                                                <label class="c-3" for="sp-3">
                                                    <input type="radio" id="sp-3">
                                                </label>
                                                <label class="c-4" for="sp-4">
                                                    <input type="radio" id="sp-4">
                                                </label>
                                                <label class="c-5" for="sp-5">
                                                    <input type="radio" id="sp-5">
                                                </label>
                                                <label class="c-6" for="sp-6">
                                                    <input type="radio" id="sp-6">
                                                </label>
                                                <label class="c-7" for="sp-7">
                                                    <input type="radio" id="sp-7">
                                                </label>
                                                <label class="c-8" for="sp-8">
                                                    <input type="radio" id="sp-8">
                                                </label>
                                                <label class="c-9" for="sp-9">
                                                    <input type="radio" id="sp-9">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div> -->
                                <!-- <div class="card">
                                    <div class="card-heading">
                                        <a data-toggle="collapse" data-target="#collapseSix">Tags</a>
                                    </div>
                                    <div id="collapseSix" class="collapse show" data-parent="#accordionExample">
                                        <div class="card-body">
                                            <div class="shop__sidebar__tags">
                                                <a href="#">Product</a>
                                                <a href="#">Bags</a>
                                                <a href="#">Shoes</a>
                                                <a href="#">Fashio</a>
                                                <a href="#">Clothing</a>
                                                <a href="#">Hats</a>
                                                <a href="#">Accessories</a>
                                            </div>
                                        </div>
                                    </div>
                                </div> -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9">
                    <div class="shop__product__option">
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <div class="shop__product__option__left">
                                    <p>Showing 1–12 of {{listProduct.length}} products</p>
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <div class="shop__product__option__right">
                                    <p>Sort by Price:</p>
                                    <select [(ngModel)]="sortType" (change)="onSortChange(sortType)">
                                        <option>Low To High</option>
                                        <option>High To Low</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4 col-md-6 col-sm-6" *ngFor="let product of displayedProducts$ | async">
                            <div class="product__item">
                                <div (click)="viewDetail(product.id)" class="product__item__pic set-bg"
                                    [ngStyle]="{'background-image': 'url(data:image/jpeg;base64,' + (product.images?.[0]?.data || '') + ')'}">
                                    <ul class="product__hover">
                                        <li><a href="#"><img
                                                    src="https://themewagon.github.io/malefashion/img/icon/heart.png"
                                                    alt=""></a></li>
                                        <li><a href="#"><img
                                                    src="https://themewagon.github.io/malefashion/img/icon/compare.png"
                                                    alt=""> <span>Compare</span></a></li>
                                        <li><a style="cursor: pointer;" (click)="viewDetail(product.id)"><img
                                                    src="https://themewagon.github.io/malefashion/img/icon/search.png"
                                                    alt=""></a></li>
                                    </ul>
                                </div>
                                <div class="product__item__text">
                                    <h6>{{ product.name }}</h6>
                                    <a style="cursor: pointer;" class="add-cart" (click)="openModal(product)"> Add To
                                        Cart</a>
                                    <div class="rating">
                                        <i class="fa fa-star-o"></i>
                                        <i class="fa fa-star-o"></i>
                                        <i class="fa fa-star-o"></i>
                                        <i class="fa fa-star-o"></i>
                                        <i class="fa fa-star-o"></i>
                                    </div>

                                    <h5 *ngIf="product && product.price !== null">
                                        {{ (product.price) | vndCurrency }}
                                    </h5>
                                    <div class="product__color__select">
                                        <label for="pc-1">
                                            <input type="radio" id="pc-1">
                                        </label>
                                        <label class="active black" for="pc-2">
                                            <input type="radio" id="pc-2">
                                        </label>
                                        <label class="grey" for="pc-3">
                                            <input type="radio" id="pc-3">
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="product__pagination">
                                <span *ngFor="let page of getPages(); let i = index">
                                    <a [class.active]="currentPage === i + 1" (click)="goToPage(i + 1)">{{ i + 1 }}</a>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Shop Section End -->
    <!-- Modal -->
    <div class="modal" tabindex="-1" role="dialog" *ngIf="isModalOpen">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{{ selectedProduct?.name }}</h5>
                    <button type="button" class="close" (click)="closeModal()">
                        <span>&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <!-- Product Image -->
                            <img *ngIf="selectedProduct!=null && selectedProduct.images[0].data"
                                [src]="'data:image/jpeg;base64,' + selectedProduct.images[0].data" alt="Product Image"
                                class="img-fluid">
                        </div>
                        <div class="col-md-6">
                            <!-- Product Description -->
                            <p>{{ selectedProduct?.description }}</p>
                            <p *ngIf="selectedProduct!=null">Price: {{ selectedProduct.price | vndCurrency }}</p>

                            <!-- Size Selection (if available) -->
                            <div class="product__details__option__size">
                                <span>Size:</span>
                                <label *ngFor="let size of selectedProduct?.productSize; let i = index"
                                    [for]="'size-' + i" [ngClass]="{'active': selectedSize === size}">
                                    {{ size.name }}
                                    <input type="radio" [id]="'size-' + i" [value]="size" [(ngModel)]="selectedSize">
                                </label>
                            </div>

                            <!-- Quantity Selection -->
                            <div>
                                <label for="quantity">Quantity:</label>
                                <input type="number" id="quantity" [(ngModel)]="productQuantity" min="1" max="10">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" (click)="closeModal()">Close</button>
                    <button *ngIf="selectedProduct != null" type="button" class="btn btn-primary"
                        (click)="addProductToCart()">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer Section Begin -->
    <app-footer></app-footer>